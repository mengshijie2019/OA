(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22768b8e"],{"1dd3":function(e,t,a){},"5c13":function(e,t,a){"use strict";var n=a("1dd3"),s=a.n(n);s.a},6724:function(e,t,a){"use strict";a("8d41");var n="@@wavesContext";function s(e,t){function a(a){var n=Object.assign({},t.value),s=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),i=s.ele;if(i){i.style.position="relative",i.style.overflow="hidden";var l=i.getBoundingClientRect(),o=i.querySelector(".waves-ripple");switch(o?o.className="waves-ripple":(o=document.createElement("span"),o.className="waves-ripple",o.style.height=o.style.width=Math.max(l.width,l.height)+"px",i.appendChild(o)),s.type){case"center":o.style.top=l.height/2-o.offsetHeight/2+"px",o.style.left=l.width/2-o.offsetWidth/2+"px";break;default:o.style.top=(a.pageY-l.top-o.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",o.style.left=(a.pageX-l.left-o.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return o.style.backgroundColor=s.color,o.className="waves-ripple z-active",!1}}return e[n]?e[n].removeHandle=a:e[n]={removeHandle:a},a}var i={bind:function(e,t){e.addEventListener("click",s(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[n].removeHandle,!1),e.addEventListener("click",s(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[n].removeHandle,!1),e[n]=null,delete e[n]}},l=function(e){e.directive("waves",i)};window.Vue&&(window.waves=i,Vue.use(l)),i.install=l;t["a"]=i},"8d41":function(e,t,a){},bef7:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请选择工资发放状态"},model:{value:e.selectStatus,callback:function(t){e.selectStatus=t},expression:"selectStatus"}},e._l(e.optionsStatus,(function(e){return a("el-option",{key:e.statuId,attrs:{label:e.statuName,value:e.statuId}})})),1),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(" 查询 ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{loading:e.downloadLoading,type:"success",icon:"el-icon-download"},on:{click:e.handleDownload}},[e._v(" 导出工资单 ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%","margin-top":"10px"},attrs:{border:!1,data:e.list,fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"员工姓名",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.staffName))])]}}])}),a("el-table-column",{attrs:{label:"基础工资",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.basePay))])]}}])}),a("el-table-column",{attrs:{label:"奖励工资",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.incentiveWage))])]}}])}),a("el-table-column",{attrs:{label:"福利补贴","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.welfareAllowance))])]}}])}),a("el-table-column",{attrs:{label:"住房公积金",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.housingProvidentFund))])]}}])}),a("el-table-column",{attrs:{label:"失业保险",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.unemploymentInsurance))])]}}])}),a("el-table-column",{attrs:{label:"扣除工资",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.deductionWages))])]}}])}),a("el-table-column",{attrs:{label:"总工资",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.totalWages))])]}}])}),a("el-table-column",{attrs:{label:"实发工资",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.realWages))])]}}])}),a("el-table-column",{attrs:{label:"发放年月份",width:"145",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.addIime))])]}}])}),a("el-table-column",{attrs:{label:"月工资是否发放 ",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[0==n.isIssue?a("el-button",{attrs:{size:"mini"}},[e._v("未发放")]):e._e(),1==n.isIssue?a("el-button",{attrs:{size:"mini",type:"danger"}},[e._v("已发放")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"添加人",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.addPersonName))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,s=t.$index;return["deleted"!=n.status?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(n,s)}}},[e._v(" 删除 ")]):e._e(),0==n.isIssue?a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.handleUpdate(n)}}},[e._v(" 发放 ")]):e._e()]}}])})],1),a("el-dialog",{attrs:{visible:e.dialogPvVisible,title:"新增"},on:{"update:visible":function(t){e.dialogPvVisible=t}}},[a("div"),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.confirmRevoke()}}},[e._v("提交")])],1)])],1)},s=[],i=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("fd03")),l=a("6724"),o=(a("ed08"),a("bc3a")),r=a.n(o),d={name:"ComplexTable",directives:{waves:l["a"]},filters:{statusFilter:function(e){var t={published:"success",draft:"info",deleted:"danger"};return t[e]},typeFilter:function(e){return calendarTypeKeyValue[e]}},data:function(){return{optionsStatus:[{statuId:0,statuName:"全部"},{statuId:1,statuName:"已经发放"},{statuId:2,statuName:"还未发放"}],staffId:"",basePay:"",incentiveWage:"",welfareAllowance:"",housingProvidentFund:"",unemploymentInsurance:"",totalWages:"",realWages:"",isIssue:"",addIime:"",addPersonId:"",addPersonName:"",deductionWages:"",currentPage:1,totalPage:1,salaryStatus:["全部","已发送","未发送"],selectStatus:"",page:1,tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:20,importance:void 0,type:void 0,sort:"+id"},importanceOptions:["全部","已发送","未发送"],sortOptions:[{label:"ID Ascending",key:"+id"},{label:"ID Descending",key:"-id"}],statusOptions:["published","draft","deleted"],temp:{id:void 0,importance:1,remark:"",timestamp:new Date,title:"",type:"",status:"published"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Create"},dialogPvVisible:!1,pvData:[],rules:{type:[{required:!0,message:"type is required",trigger:"change"}],timestamp:[{type:"date",required:!0,message:"timestamp is required",trigger:"change"}]},downloadLoading:!1}},created:function(){this.getList(1)},methods:{getList:function(e){var t=this;this.listLoading=!0;var a={page:e,size:8,isIssue:""};this.selectStatus&&(a.isIssue=this.selectStatus),Object(i["r"])(a).then((function(e){200==e.code?(t.list=e.page.records,t.listLoading=!1):t.$message.error(e.message)}))},handleFilter:function(){this.getList(1)},handleUpdate:function(e){var t=this,a={staffId:e.staffId,isIssue:1};Object(i["o"])(a).then((function(e){200==e.code&&(t.$message.success("发放成功"),t.currentPage=1,t.getList())}))},handleDelete:function(e,t){var a=this;this.$confirm("确定删除该员工当前月份工资统计吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i["h"])({id:e.id}).then((function(e){200==e.code&&(a.$message.success("删除成功"),a.currentPage=1,a.getList())}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},handleDownload:function(){var e=this;this.downloadLoading=!0;var t={};this.listQuery.importance&&(t.departmentId=this.listQuery.importance),this.listQuery.type&&(t.postId=this.listQuery.type),this.listQuery.title&&(t.name=this.listQuery.title),this.listQuery.sort&&(t.rpStatus=this.listQuery.sort),r()({method:"post",url:"/api/download/exportSalary",data:t,responseType:"blob"}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.style.display="none",n.href=a,n.setAttribute("download","员工工资单.xlsx"),document.body.appendChild(n),n.click(),e.$message.success("导出成功！")})).catch((function(t){e.$message.error(t)})).finally((function(){e.downloadLoading=!1}))},handleAdd:function(e,t){this.revokeRow=e,this.dialogPvVisible=!0}}},c=d,u=(a("5c13"),a("0c7c")),p=Object(u["a"])(c,n,s,!1,null,null,null);t["default"]=p.exports}}]);