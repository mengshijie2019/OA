(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1edfb986"],{"057f":function(t,e,n){var r=n("fc6a"),i=n("241c").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},"159b":function(t,e,n){var r=n("da84"),i=n("fdbc"),o=n("17c2"),a=n("9112");for(var s in i){var c=r[s],f=c&&c.prototype;if(f&&f.forEach!==o)try{a(f,"forEach",o)}catch(u){f.forEach=o}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=n("ae40"),a=i("forEach"),s=o("forEach");t.exports=a&&s?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"3ca3":function(t,e,n){"use strict";var r=n("6547").charAt,i=n("69f3"),o=n("7dd0"),a="String Iterator",s=i.set,c=i.getterFor(a);o(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},"3ef3":function(t,e,n){},4160:function(t,e,n){"use strict";var r=n("23e7"),i=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"487e":function(t,e,n){"use strict";var r=n("e6aa"),i=n.n(r);i.a},"4df4":function(t,e,n){"use strict";var r=n("0366"),i=n("7b0b"),o=n("9bdd"),a=n("e95a"),s=n("50c4"),c=n("8418"),f=n("35a1");t.exports=function(t){var e,n,u,l,d,p,h=i(t),g="function"==typeof this?this:Array,b=arguments.length,m=b>1?arguments[1]:void 0,v=void 0!==m,y=f(h),w=0;if(v&&(m=r(m,b>2?arguments[2]:void 0,2)),void 0==y||g==Array&&a(y))for(e=s(h.length),n=new g(e);e>w;w++)p=v?m(h[w],w):h[w],c(n,w,p);else for(l=y.call(h),d=l.next,n=new g;!(u=d.call(l)).done;w++)p=v?o(l,m,[u.value,w],!0):u.value,c(n,w,p);return n.length=w,n}},"746f":function(t,e,n){var r=n("428f"),i=n("5135"),o=n("e538"),a=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},8418:function(t,e,n){"use strict";var r=n("c04e"),i=n("9bf2"),o=n("5c6c");t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},"8d57":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow?n("div",{staticClass:"dialog"},[n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"title-name"},[t._t("header",[t._v("新增")])],2),n("div",{staticClass:"close",on:{click:t.closeDialog}},[n("i",{staticClass:"el-icon-close"})]),t._t("coninput"),n("div",{staticClass:"content-footer"},[n("el-button",{staticStyle:{width:"80px",height:"40px",background:"#496bfa",color:"#fff","font-size":"16px"},attrs:{round:"",loading:t.loading},on:{click:t.sumbit}},[t._v("确认")]),n("el-button",{staticStyle:{width:"80px",height:"40px",border:"1px solid #496bfa",color:"#496bfa","font-size":"16px","box-sizing":"border-box"},attrs:{round:""},on:{click:t.closeDialog}},[t._v("取消")])],1)],2)]):t._e()},i=[],o={name:"AddDialog",props:{isShow:{type:Boolean,default:!1},titleName:{type:String},subTitleName:{type:String},loading:{type:Boolean,default:!1}},methods:{closeDialog:function(){this.$emit("close")},sumbit:function(){this.$emit("sumbit")}}},a=o,s=(n("487e"),n("0c7c")),c=Object(s["a"])(a,r,i,!1,null,"c5ff3378",null);e["a"]=c.exports},"99af":function(t,e,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("e8b5"),a=n("861d"),s=n("7b0b"),c=n("50c4"),f=n("8418"),u=n("65f0"),l=n("1dde"),d=n("b622"),p=n("2d00"),h=d("isConcatSpreadable"),g=9007199254740991,b="Maximum allowed index exceeded",m=p>=51||!i((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),v=l("concat"),y=function(t){if(!a(t))return!1;var e=t[h];return void 0!==e?!!e:o(t)},w=!m||!v;r({target:"Array",proto:!0,forced:w},{concat:function(t){var e,n,r,i,o,a=s(this),l=u(a,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?a:arguments[e],y(o)){if(i=c(o.length),d+i>g)throw TypeError(b);for(n=0;n<i;n++,d++)n in o&&f(l,d,o[n])}else{if(d>=g)throw TypeError(b);f(l,d++,o)}return l.length=d,l}})},a15b:function(t,e,n){"use strict";var r=n("23e7"),i=n("44ad"),o=n("fc6a"),a=n("a640"),s=[].join,c=i!=Object,f=a("join",",");r({target:"Array",proto:!0,forced:c||!f},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},a4d3:function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),a=n("c430"),s=n("83ab"),c=n("4930"),f=n("fdbf"),u=n("d039"),l=n("5135"),d=n("e8b5"),p=n("861d"),h=n("825a"),g=n("7b0b"),b=n("fc6a"),m=n("c04e"),v=n("5c6c"),y=n("7c73"),w=n("df75"),S=n("241c"),x=n("057f"),P=n("7418"),k=n("06cf"),O=n("9bf2"),_=n("d1e7"),N=n("9112"),j=n("6eeb"),E=n("5692"),I=n("f772"),C=n("d012"),D=n("90e3"),A=n("b622"),$=n("e538"),T=n("746f"),z=n("d44e"),L=n("69f3"),J=n("b727").forEach,B=I("hidden"),F="Symbol",M="prototype",Q=A("toPrimitive"),W=L.set,q=L.getterFor(F),G=Object[M],H=i.Symbol,K=o("JSON","stringify"),R=k.f,U=O.f,V=x.f,X=_.f,Y=E("symbols"),Z=E("op-symbols"),tt=E("string-to-symbol-registry"),et=E("symbol-to-string-registry"),nt=E("wks"),rt=i.QObject,it=!rt||!rt[M]||!rt[M].findChild,ot=s&&u((function(){return 7!=y(U({},"a",{get:function(){return U(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=R(G,e);r&&delete G[e],U(t,e,n),r&&t!==G&&U(G,e,r)}:U,at=function(t,e){var n=Y[t]=y(H[M]);return W(n,{type:F,tag:t,description:e}),s||(n.description=e),n},st=f?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof H},ct=function(t,e,n){t===G&&ct(Z,e,n),h(t);var r=m(e,!0);return h(n),l(Y,r)?(n.enumerable?(l(t,B)&&t[B][r]&&(t[B][r]=!1),n=y(n,{enumerable:v(0,!1)})):(l(t,B)||U(t,B,v(1,{})),t[B][r]=!0),ot(t,r,n)):U(t,r,n)},ft=function(t,e){h(t);var n=b(e),r=w(n).concat(ht(n));return J(r,(function(e){s&&!lt.call(n,e)||ct(t,e,n[e])})),t},ut=function(t,e){return void 0===e?y(t):ft(y(t),e)},lt=function(t){var e=m(t,!0),n=X.call(this,e);return!(this===G&&l(Y,e)&&!l(Z,e))&&(!(n||!l(this,e)||!l(Y,e)||l(this,B)&&this[B][e])||n)},dt=function(t,e){var n=b(t),r=m(e,!0);if(n!==G||!l(Y,r)||l(Z,r)){var i=R(n,r);return!i||!l(Y,r)||l(n,B)&&n[B][r]||(i.enumerable=!0),i}},pt=function(t){var e=V(b(t)),n=[];return J(e,(function(t){l(Y,t)||l(C,t)||n.push(t)})),n},ht=function(t){var e=t===G,n=V(e?Z:b(t)),r=[];return J(n,(function(t){!l(Y,t)||e&&!l(G,t)||r.push(Y[t])})),r};if(c||(H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=D(t),n=function(t){this===G&&n.call(Z,t),l(this,B)&&l(this[B],e)&&(this[B][e]=!1),ot(this,e,v(1,t))};return s&&it&&ot(G,e,{configurable:!0,set:n}),at(e,t)},j(H[M],"toString",(function(){return q(this).tag})),j(H,"withoutSetter",(function(t){return at(D(t),t)})),_.f=lt,O.f=ct,k.f=dt,S.f=x.f=pt,P.f=ht,$.f=function(t){return at(A(t),t)},s&&(U(H[M],"description",{configurable:!0,get:function(){return q(this).description}}),a||j(G,"propertyIsEnumerable",lt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:H}),J(w(nt),(function(t){T(t)})),r({target:F,stat:!0,forced:!c},{for:function(t){var e=String(t);if(l(tt,e))return tt[e];var n=H(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(l(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:ut,defineProperty:ct,defineProperties:ft,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pt,getOwnPropertySymbols:ht}),r({target:"Object",stat:!0,forced:u((function(){P.f(1)}))},{getOwnPropertySymbols:function(t){return P.f(g(t))}}),K){var gt=!c||u((function(){var t=H();return"[null]"!=K([t])||"{}"!=K({a:t})||"{}"!=K(Object(t))}));r({target:"JSON",stat:!0,forced:gt},{stringify:function(t,e,n){var r,i=[t],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=e,(p(e)||void 0!==t)&&!st(t))return d(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!st(e))return e}),i[1]=e,K.apply(null,i)}})}H[M][Q]||N(H[M],Q,H[M].valueOf),z(H,F),C[B]=!0},a630:function(t,e,n){var r=n("23e7"),i=n("4df4"),o=n("1c7e"),a=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:a},{from:i})},c5c1:function(t,e,n){"use strict";var r=n("3ef3"),i=n.n(r);i.a},d28b:function(t,e,n){var r=n("746f");r("iterator")},ddfd:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"permission"}},[n("div",{staticClass:"select_option"},[n("el-select",{staticClass:"department-option",attrs:{placeholder:"请选择部门"},on:{change:function(e){return t.selectDepartment()}},nativeOn:{click:function(e){return t.clear()}},model:{value:t.department,callback:function(e){t.department=e},expression:"department"}},t._l(t.optionsDepartment,(function(t){return n("el-option",{key:t.departmentId,attrs:{label:t.departmentName,value:t.departmentId}})})),1),n("el-button",{staticClass:"button",staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.look()}}},[t._v("查询")])],1),n("div",[n("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{border:!1,data:t.tableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize)}},[n("el-table-column",{attrs:{label:"序号","min-width":"60",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s((t.currentPage-1)*t.pagesize+e.$index+1>=10?(t.currentPage-1)*t.pagesize+e.$index+1:"0"+((t.currentPage-1)*t.pagesize+e.$index+1)))])]}}])}),n("el-table-column",{attrs:{label:"岗位",prop:"postName","min-width":"60",align:"center"}}),n("el-table-column",{attrs:{label:"权限",prop:"permissionString","min-width":"60",align:"center"}}),n("el-table-column",{attrs:{label:"操作","min-width":"60",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(n){return t.editor(e.$index,e.row)}}},[t._v("编辑 ")])]}}])})],1),n("div",{staticStyle:{"text-align":"right","margin-top":"5px"}},[n("el-pagination",{staticStyle:{background:"#ffffff"},attrs:{background:"",layout:"prev, pager, next",total:t.totalPage,"current-page":t.currentPage,"page-size":8},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)],1),n("add-dialog",{attrs:{isShow:t.isShow},on:{sumbit:t.submit,close:t.cannel},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",[t._v("编辑")])]},proxy:!0},{key:"coninput",fn:function(){return[n("div",{staticClass:"dialog-body"},[n("div",{staticClass:"editorTitle"},t._l(t.editorTitle,(function(e,r){return n("div",{key:r,class:["editorTitleText",{active:r==t.changeIndex}],on:{click:function(e){return t.change(r)}}},[t._v(t._s(e)+" ")])})),0),n("div",{staticClass:"editorBody"},[0==t.changeIndex?n("div",[n("span",{staticClass:"input-left"},[t._v("岗位名称：")]),n("el-input",{attrs:{type:"text",placeholder:"请输入岗位名称"},model:{value:t.editorPost,callback:function(e){t.editorPost=e},expression:"editorPost"}})],1):t._e(),1==t.changeIndex?n("div",[n("el-tree",{ref:"tree",staticClass:"editor-tree",attrs:{"default-checked-keys":t.permissionArr,data:t.data,"show-checkbox":"","node-key":"id",props:{label:"name",children:"secondPermissions"}},on:{check:t.getTreeNode}})],1):t._e()])])]},proxy:!0}])})],1)},i=[];n("99af"),n("4160"),n("a15b"),n("b0c0"),n("159b");function o(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("e260"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0");function a(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){return o(t)||a(t)||s()}var f=n("fd03"),u=n("8d57"),l={components:{addDialog:u["a"]},data:function(){return{editorTitle:["岗位信息","权限信息"],isShow:!1,editorPost:"",changeIndex:0,department:"",optionsDepartment:[],tableData:[],rowInfo:{},currentPage:1,totalPage:1,pagesize:8,data:[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1",children:[{id:9,label:"三级 1-1-1"},{id:10,label:"三级 1-1-2"}]}]}],selectNode:{},permissionArr:[]}},created:function(){this.getList()},methods:{getTreeNode:function(t,e){var n=JSON.stringify(e);this.selectNode=JSON.parse(n)},getPermissionList:function(){var t=this;Object(f["w"])().then((function(e){if(200==e.code){var n=[];n=e.result.result.firstPermissions,n.forEach((function(t,e){t.id=t.firstPermissionId,t.name=t.firstPermissionName,t.secondPermissions.forEach((function(t,e){t.id=t.secondPermissionId,t.name=t.secondPermissionName}))})),t.data=n}else t.$message.erorr(e.message)}))},submit:function(){var t=this;if(!this.selectNode.checkedNodes)return this.$message.warning("请选择要添加的权限信息！"),!1;var e=this.selectNode.checkedNodes,n=this.selectNode.halfCheckedNodes,r=[];e.forEach((function(t){t.secondPermissionId&&r.push(t.secondPermissionId),t.firstPermissionId&&r.push(t.firstPermissionId)})),n.forEach((function(t){r.push(t.firstPermissionId)}));var i={permissions:r.join(","),postName:this.editorPost,postId:this.rowInfo.postId};Object(f["l"])(i).then((function(e){200==e.code?(t.$message.success("提交成功！"),t.isShow=!1,t.tableData=[],t.getList()):t.$message.error(e.message)}))},cannel:function(){this.isShow=!1},change:function(t){this.changeIndex=t},clear:function(){this.department="",this.tableData=[],this.getList()},editor:function(t,e){var n=this;this.rowInfo=e,this.permissionArr=[],this.isShow=!0,this.editorPost=e.postName,this.rowInfo.permissions.forEach((function(t){2==t.type&&n.permissionArr.push(t.id)})),this.getPermissionList()},handleCurrentChange:function(t){this.currentPage=t},selectDepartment:function(){},look:function(){var t={departmentId:this.department};this.tableData=[],this.getList(t)},getList:function(t){var e=this;Object(f["v"])(t).then((function(t){if(200==t.code){var n=t.result.departments,r=[];e.optionsDepartment=t.result.departments,n.forEach((function(t){r=e.tableData,e.tableData=[].concat(c(r),c(t.posts)),e.totalPage=e.tableData.length}))}else e.$message.error(t.message)}))}}},d=l,p=(n("c5c1"),n("0c7c")),h=Object(p["a"])(d,r,i,!1,null,"1d3016ee",null);e["default"]=h.exports},e01a:function(t,e,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("da84"),a=n("5135"),s=n("861d"),c=n("9bf2").f,f=n("e893"),u=o.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var l={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(l[e]=!0),e};f(d,u);var p=d.prototype=u.prototype;p.constructor=d;var h=p.toString,g="Symbol(test)"==String(u("test")),b=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=h.call(t);if(a(l,t))return"";var n=g?e.slice(7,-1):e.replace(b,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},e538:function(t,e,n){var r=n("b622");e.f=r},e6aa:function(t,e,n){}}]);