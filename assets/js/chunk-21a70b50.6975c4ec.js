(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21a70b50"],{"0edf":function(e,t,a){},"29ff":function(e,t,a){"use strict";var n=a("0edf"),i=a.n(n);i.a},4335:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"check-info"}},[a("div",{staticClass:"select_option"},[a("el-input",{staticClass:"department-option",staticStyle:{width:"200px"},attrs:{placeholder:"请输入培训主题"},model:{value:e.selectTheme,callback:function(t){e.selectTheme=t},expression:"selectTheme"}}),a("el-date-picker",{staticClass:"department-option",attrs:{type:"date",placeholder:"开始日期","value-format":"yyyy-MM-dd"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}),a("el-date-picker",{staticClass:"department-option",attrs:{type:"date",placeholder:"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}}),a("el-select",{staticClass:"department-option",attrs:{placeholder:"请选择审批状态"},model:{value:e.selectExamineResult,callback:function(t){e.selectExamineResult=t},expression:"selectExamineResult"}},e._l(e.examineResults,(function(e){return a("el-option",{key:e.examineResultId,attrs:{label:e.examineResultName,value:e.examineResultId}})})),1),a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(t){return e.look()}}},[e._v("查询")])],1),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"培训审批编号","min-width":"43",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.$index+1>10?t.$index+1:"0"+(t.$index+1)))])]}}])}),a("el-table-column",{attrs:{label:"培训申请人",prop:"applicantName","min-width":"40",align:"center"}}),a("el-table-column",{attrs:{label:"申请的培训主题",prop:"trainingTheme","min-width":"50",align:"center"}}),a("el-table-column",{attrs:{label:"培训审批人",prop:"auditorName","min-width":"40",align:"center"}}),a("el-table-column",{attrs:{label:"审批状态","min-width":"30",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.isExamine?a("el-button",{attrs:{type:"info",size:"mini",round:"",plain:""}},[e._v("未审批")]):e._e(),1==t.row.isExamine?a("el-button",{attrs:{type:"success",round:"",plain:"",size:"mini"}},[e._v("通过")]):e._e(),2==t.row.isExamine?a("el-button",{attrs:{type:"danger",plain:"",round:"",size:"mini"}},[e._v("不通过")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"申请时间","min-width":"50",align:"center",prop:"addTime"}}),a("el-table-column",{attrs:{label:"操作","min-width":"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.isExamine?a("el-button",{attrs:{type:"success",size:"mini"},nativeOn:{click:function(a){return e.finish(t.$index,t.row)}}},[e._v("通过 ")]):e._e(),0==t.row.isExamine?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return e.notfinish(t.$index,t.row)}}},[e._v("不通过 ")]):e._e(),0!=t.row.isExamine?a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(a){return e.cancelApply(t.$index,t.row)}}},[e._v("已审批 无操作 ")]):e._e()]}}])})],1),a("div",{staticClass:"page-nav"},[a("el-pagination",{staticStyle:{background:"#ffffff","margin-top":"5px","text-align":"right"},attrs:{background:"",layout:"prev, pager, next",total:e.totalPage,"current-page":e.currentPage,"page-size":8},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1)])},i=[],s=(a("b0c0"),a("fd03")),l={data:function(){return{examineResults:[{examineResultId:"",examineResultName:"全部"},{examineResultId:1,examineResultName:"通过"},{examineResultId:2,examineResultName:"不通过"},{examineResultId:3,examineResultName:"未审批"}],selectExamineResult:"",tableData:[],applicantName:"",trainingTheme:"",auditorName:"",addTime:"",isExamine:"",selectTheme:"",startTime:"",endTime:"",totalPage:null,page:1,currentPage:1}},created:function(){this.getTrainingApprovalListTable(this.page)},methods:{tableRowClassName:function(e){var t=e.row;e.rowIndex;return 0===t.isExamine?"warning-row":1===t.isExamine?"success-row":2===t.isExamine?"danger-row":""},handleCurrentChange:function(e){this.currentPage=e,this.getTrainingApprovalListTable(e)},finish:function(e,t){var a=this,n={id:t.id,auditorId:localStorage.getItem("userId"),isFinish:1,auditorName:JSON.parse(localStorage.getItem("userInfo")).name};this.$confirm("此操作将审核通过"+t.applicantName+"的申请, 是否确定?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["a"])(n).then((function(e){200==e.code?(a.getTrainingApprovalListTable(a.page),a.$message({type:"success",message:"审批成功!"})):a.$message.error(e.message)}))})).catch((function(){a.$message({type:"info",message:"已取消该操作"})}))},notfinish:function(e,t){var a=this;this.$confirm("此操作将拒绝"+t.applicantName+"的申请, 请慎重?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["a"])({id:t.id,auditorId:localStorage.getItem("userId"),isFinish:2,auditorName:JSON.parse(localStorage.getItem("userInfo")).name}).then((function(e){200==e.code?(a.$message.success("成功拒绝该申请"),a.getTrainingApprovalListTable(a.page)):a.$message.error(e.message)}))})).catch((function(){a.$message({type:"info",message:"已取消该操作"})}))},getTrainingApprovalListTable:function(e){var t=this,a={page:e,size:8};this.selectTheme&&(a.trainingTheme=this.selectTheme),this.startTime&&(a.startTime=this.startTime),this.endTime&&(a.endTime=this.endTime),this.selectExamineResult&&(a.examineResult=this.selectExamineResult),Object(s["s"])(a).then((function(e){200==e.code?(t.tableData=e.page.records,t.totalPage=e.page.total):t.$message.erroe(e.message)}))},look:function(){this.page=1,this.getTrainingApprovalListTable(this.page)}}},r=l,o=(a("29ff"),a("0c7c")),c=Object(o["a"])(r,n,i,!1,null,null,null);t["default"]=c.exports}}]);